!function(){"use strict";angular.module("formioAppTodo",["ngSanitize","ui.router","ui.bootstrap","formio","bgf.paginateAnything","ngMap"])}(),function(){"use strict";angular.module("formioAppTodo").run(["$rootScope","AppConfig","Formio","$state",function(e,t,o,r){e.userLoginForm=t.appUrl+"/user/login",e.userRegisterForm=t.appUrl+"/user/register",e.todoForm=t.appUrl+"/todo",e.user||o.currentUser().then(function(t){e.user=t}),e.$on("$stateChangeStart",function(t,n){e.authenticated=!!o.getToken(),"auth"!==n.name.substr(0,4)&&(e.authenticated||(t.preventDefault(),r.go("auth.login")))});var n=function(){r.go("home")},i=function(){r.go("auth.login")};e.$on("formio.sessionExpired",i),e.$on("formio.unauthorized",n),e.logout=function(){o.logout().then(function(){r.go("auth.login")})["catch"](i)},e.isActive=function(e){return-1!==r.current.name.indexOf(e)}}])}(),function(){"use strict";function e(e,t,o,r,n){r.setBaseUrl(n.apiUrl),e.state("home",{url:"/",templateUrl:"views/main.html",controller:["$scope","$state","$rootScope",function(e,t,o){e.todos=[],e.todosUrl=o.todoForm+"/submission",e.getStatus=function(e){switch(e.data.status){case"notstarted":return"danger";case"started":return"info";case"done":return"success"}return""}}]}).state("auth",{"abstract":!0,url:"/auth",templateUrl:"views/user/auth.html"}).state("auth.login",{url:"/login",parent:"auth",templateUrl:"views/user/login.html",controller:["$scope","$state","$rootScope",function(e,t,o){e.$on("formSubmission",function(e,r){r&&(o.user=r,t.go("home"))})}]}).state("auth.register",{url:"/register",parent:"auth",templateUrl:"views/user/register.html",controller:["$scope","$state","$rootScope",function(e,t,o){e.$on("formSubmission",function(e,r){r&&(o.user=r,t.go("home"))})}]}),o.register("todo",function(){return{data:{status:"notstarted"}}}),t.otherwise("/")}angular.module("formioAppTodo").provider("Resource",["$stateProvider",function(e){var t={};return{register:function(o,r){t[o]=o;var n=o+"Form";e.state(o+"Index",{url:"/"+o,templateUrl:"views/resource/index.html",controller:["$scope","$state",function(e,t){e.resourceName=o,e.resourceForm=e[n],e.$on("submissionView",function(e,r){t.go(o+".view",{id:r._id})}),e.$on("submissionEdit",function(e,r){t.go(o+".edit",{id:r._id})}),e.$on("submissionDelete",function(e,r){t.go(o+".delete",{id:r._id})})}]}).state(o+"Create",{url:"/create/"+o,templateUrl:"views/resource/create.html",controller:["$scope","$state",function(e,t){e.resource=r?r():{},e.resourceForm=e[n],e.$on("formSubmission",function(e,r){t.go(o+".view",{id:r._id})})}]}).state(o,{"abstract":!0,url:"/"+o+"/:id",templateUrl:"views/resource/resource.html",controller:["$scope","$stateParams",function(e,t){e.resourceName=o,e.resourceForm=e[n],e.resourceUrl=e.resourceForm+"/submission/"+t.id}]}).state(o+".view",{url:"/",parent:o,templateUrl:"views/"+o+"/view.html",controller:["$scope","$stateParams","Formio",function(e,t,o){e.resource=r?r():{},e.position={lat:"40.74",lng:"-74.18"},new o(e.resourceUrl).loadSubmission().then(function(t){t.data.address&&(e.position.lat=t.data.address.geometry.location.lat,e.position.lng=t.data.address.geometry.location.lng),e.resource=t})}]}).state(o+".edit",{url:"/edit",parent:o,templateUrl:"views/resource/edit.html",controller:["$scope","$state",function(e,t){e.$on("formSubmission",function(){t.go("home")})}]}).state(o+".delete",{url:"/delete",parent:o,templateUrl:"views/resource/delete.html",controller:["$scope","$state",function(e,t){e.$on("delete",function(){t.go("home")})}]})},$get:function(){return t}}}]).config(e),e.$inject=["$stateProvider","$urlRouterProvider","ResourceProvider","FormioProvider","AppConfig"]}(),function(){"use strict";angular.module("formioAppTodo").constant("moment",moment)}(),function(){"use strict";function e(){}angular.module("formioAppTodo").config(e)}();